{"version":3,"file":"_slug_-DAL1etFR.js","sources":["../../../../pages/compliance/[slug].vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"\">\n            <div class=\"container mx-auto bg-white pt-32\">\n            <div class=\"px-4\">\n                <NuxtLink to=\"/compliance\" class=\"flex justify-center gap-4 p-2 border rounded border-primary text-gray-800 text-center w-1/2 md:w-1/5 cursor-pointer\">\n                    <i class=\"material-icons\">arrow_back</i>\n                    {{ msgTranslate?.legal || 'Legal' }}\n                      </NuxtLink>\n                <div class=\"\">\n                    <div v-html=\"htmlContent\"></div>\n                </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { useRoute } from 'vue-router';\nimport { ref, onMounted } from 'vue';\nimport { msgTranslate, globalContent, loadTranslations, loadLang, fetchCachedContent, lang, PP_API_URL, WHITELABEL_ID } from '~/composables/globalData';\nimport { useAsyncData } from '#app';\n\nconst route = useRoute();\nconst slug = route.params.slug;\n\nasync function fetchContent(slug) {\n    try {\n        // Use the optimized fetchCachedContent function with KV caching\n        const htmlContent = await fetchCachedContent(slug, lang.value);\n        return htmlContent;\n    } catch (error) {\n        console.error('Error fetching compliance content:', error);\n        return '';\n    }\n}\n\nconst htmlContent = ref('');\n\nonMounted(async () => {\n    try {\n        htmlContent.value = await fetchContent(slug);\n        await loadTranslations();\n        await loadLang();\n    } catch (error) {\n        console.error('Error:', error);\n    }\n});\n\nconst handleClick = async (key) => {\n    const code = updateCode(key, globalContent.value); // Use globalContent.value here\n    htmlContent.value = await fetchContent(code);\n};\n\n// Add async data loading\nawait useAsyncData('translations', async () => {\n  try {\n    await loadLang();\n  } catch (error) {\n    console.error('Error loading translations:', error);\n  }\n});\n</script>\n\n<style scoped></style>\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,UAAM,QAAQ,SAAU;AACX,UAAM,OAAO;AAa1B,UAAM,cAAc,IAAI,EAAE;AAkB1B,IAAA,CAAA,QAAA,SAAA,IAAAA,iBAAA,YAAM,aAAa,gBAAgB,YAAY;AAC7C,UAAI;AACF,cAAM,SAAU;AAAA,MACjB,SAAQ,OAAO;AACd,gBAAQ,MAAM,+BAA+B,KAAK;AAAA,MACtD;AAAA,IACA,CAAC,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}